# Php Client

**GitHub:** https://github.com/php-client

**Статус:** Активный (в разработке) 


## Описание

Php Client - это набор API-клиентов для различных сервисов, которые я использую в своей домашней сети. Все клиенты построены на базе библиотеки Saloon, что позволяет создавать качественные SDK с единообразным подходом.


## Зачем я это делал

У меня дома развернута довольно сложная инфраструктура - роутеры, NAS, VPN, AI-сервисы, синхронизация файлов. Для автоматизации и управления всем этим хозяйством нужно было взаимодействовать с API разных сервисов.

Можно было бы каждый раз писать HTTP-запросы напрямую, но это неудобно и приводит к дублированию кода. Решил сделать нормальные клиенты, которые можно переиспользовать в разных проектах.


## Как это устроено

Все клиенты построены на базе [Saloon](https://docs.saloon.dev) - это современная PHP-библиотека для создания SDK и API-клиентов. Saloon предоставляет удобную структуру для описания endpoints, сериализацию/десериализацию данных, middleware и другие полезные штуки.

Я создал отдельный репозиторий для каждого сервиса, чтобы можно было устанавливать только нужные клиенты через Composer. Плюс есть общая support-библиотека для переиспользуемого кода.


### Реализованные клиенты

**AI и LLM:**
- **[OpenAI](https://github.com/php-client/openai)** - для работы с ChatGPT и другими моделями OpenAI. Использую для автоматизации задач с помощью AI. Клиент также работает с любыми сервисами, совместимыми с API OpenAI
- **[Ollama](https://github.com/php-client/ollama)** - для работы с локальными open-source LLM-моделями. Удобно для экспериментов без отправки данных в облако

**Сетевая инфраструктура:**
- **[Tailscale](https://github.com/php-client/tailscale)** - для управления VPN-сетью между моими устройствами. Tailscale упрощает создание безопасных частных сетей
- **[Keenetic](https://github.com/php-client/keenetic)** - для управления роутером. Позволяет автоматизировать настройку сети и мониторинг устройств

**Утилиты:**
- **[Syncthing](https://github.com/php-client/syncthing)** - для управления синхронизацией файлов между устройствами. Syncthing - это приватная альтернатива Dropbox

**Вспомогательные библиотеки:**
- **[Support](https://github.com/php-client/support)** - общий код для всех клиентов


### В планах

Хочу добавить клиенты для Netbird, AdGuard, Outline, LMStudio и других сервисов, которые использую или планирую использовать.


## Технологический стек

- **[PHP](../../tech/languages/PHP.md)** - основной язык разработки. Выбрал PHP, потому что большинство моих проектов на нем, и удобно иметь клиенты на том же языке
- **[Saloon](https://docs.saloon.dev)** - библиотека для создания API-клиентов. Отличная штука, которая избавляет от рутины и позволяет сосредоточиться на бизнес-логике. Предоставляет единообразный подход к работе с разными API
- **[REST API](../../tech/methodologies/REST%20API.md)** - все сервисы предоставляют REST API для взаимодействия
- **[Composer](../../tech/tech-tools/Composer.md)** - для публикации клиентов как переиспользуемых пакетов на Packagist


## Как разрабатывал

Начал с клиента для Keenetic, потому что он был нужен первым. Потом постепенно добавлял другие клиенты по мере необходимости.

Работаю над проектом в свободное время, когда появляется потребность в новом клиенте или нужно что-то улучшить в существующих. Четкого плана нет - делаю то, что нужно для моих задач.

Самое интересное в этом проекте - изучение разных API. Каждый сервис проектирует API по-своему, и это хороший опыт работы с разными подходами к дизайну API.


## Что получилось

Все клиенты опубликованы на GitHub как open-source и доступны через Packagist. Использую их в своих проектах для автоматизации домашней инфраструктуры.

Не знаю, использует ли кто-то эти клиенты кроме меня - статистику скачиваний не отслеживаю. Но если кому-то пригодится - буду рад.
